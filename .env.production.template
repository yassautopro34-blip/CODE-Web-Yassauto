# .env.production - Configuration pour déploiement IONOS
# 
# INSTRUCTIONS :
# 1. Copier ce fichier sur le serveur IONOS et le renommer en ".env"
# 2. Remplacer les valeurs par xxx_HERE par vos vraies clés
# 3. Sécuriser le fichier : chmod 600 .env
# 4. Ne JAMAIS committer ce fichier en version control

# ===== ENVIRONMENT =====
# OBLIGATOIRE: production (pas "development" ni "test")
NODE_ENV=production
PORT=4000

# ===== STRIPE PRODUCTION KEYS =====
# ⚠️ IMPORTANT: Utiliser les clés LIVE, pas les clés test
# Clé secrète Stripe (commence par sk_live_)
# Disponible dans: Stripe Dashboard > Developers > API Keys
STRIPE_SECRET_KEY=sk_live_YOUR_LIVE_SECRET_KEY_HERE

# Webhook Secret Stripe (commence par whsec_)
# Généré après création du webhook dans Stripe Dashboard > Developers > Webhooks
# Instructions : voir DEPLOYMENT_IONOS.md section "Configuration Webhook Stripe"
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET_HERE

# ===== URLS =====
# URL publique du site front
FRONTEND_URL=https://www.yassauto.fr

# URL publique du backend API
# Exemples:
#   - https://api.yassauto.fr (si vous avez un sous-domaine api)
#   - https://www.yassauto.fr/api (même domaine)
# IMPORTANT: Doit être accessible en HTTPS publiquement
# Doit correspondre à l'URL utilisée dans Stripe Dashboard pour le webhook
SERVER_URL=https://api.yassauto.fr

# ===== EMAIL CONFIGURATION =====
# Adresse Gmail qui envoie les emails
# Créer un compte Gmail ou utiliser un compte existant
GMAIL_USER=votre-email@gmail.com

# Mot de passe d'application Gmail (pas le mot de passe du compte)
# Générer ici: https://myaccount.google.com/apppasswords
# (Étapes: Activer l'authentification 2FA, puis générer un mot de passe d'app)
# Exemple: xxxx xxxx xxxx xxxx (16 caractères sans espaces)
GMAIL_PASSWORD=xxxx_xxxx_xxxx_xxxx

# Adresse email de l'administrateur (reçoit les notifications de réservation)
# Peut être la même que GMAIL_USER
ADMIN_EMAIL=admin@yassauto.fr

# ===== LOGS (optionnel) =====
# Fichier log pour l'application (créer le dossier /var/log/yassauto-api avant)
# LOG_FILE=/var/log/yassauto-api/app.log

# ===== SECURITY FLAGS =====
# NE PAS METTRE CES FLAGS EN PRODUCTION :
# - SKIP_STRIPE_SIGNATURE=1  (risque de sécurité)
# - FORCE_ETHEREAL=1         (pour test seulement)
#
# La vérification de signature Stripe est OBLIGATOIRE en production
# Les emails doivent utiliser Gmail SMTP, pas Ethereal

# ===== CONFIGURATION AVANCÉE =====
# Nombre maximum de tentatives d'envoi d'email avant abandon
# MAX_EMAIL_RETRIES=3

# Délai en ms entre chaque tentative d'envoi d'email
# EMAIL_RETRY_DELAY=5000

# Timeout en ms pour les requêtes Stripe
# STRIPE_REQUEST_TIMEOUT=30000
